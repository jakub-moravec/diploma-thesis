\chapter{Úvod}
\label{sec:uvod}
\section{Data lineage}

% Úvod
Data a z nich získávané informace vždy byly v centru pozornosti informačních technologií a jejich význam každým rokem stoupá. V digitální podobě jsou dnes zakódovány takřka všechny informace včetně našich osobních údajů, bankonvních transakcí, či zdravotních informací. Zároveň stále roste roste množství těchto dat\footnote{Podle statistiky IDC \cite{Idc14} se celkový objem dat virtuálního světa zdvojnásobuje každé dva roky.}.
Je tedy kladena velká pozornost na procesy, kterými jsou data zpracovávána a pomocí kterých jsou z dat získávány informace. Existuje několik přístupů k tomuto problému, ať už se jedná o tradiční relační databázové systémy, datové sklady a \textit{\nomExpl{OLAP}{Online Analytical Processing}} analytické nástroje, \textit{data miningové} technologie, nebo novější obory, jako jsou \textit{NoSQL} databáze a analytické nástroje. Ať už je zvolen kterýkoliv z těchto přístupů, procesy zpracovávající data bývají komplexní a často ne zcela intuitivní pro samotné vývojáři, natož potom pro analytiky či dokonce byznys uživatele.

% Data Lineage
Do popředí se tak dostává nová skupina nástrojů označovaných jako \textit{data lineage}.\footnote{Stejně jako mnoho další termínů z oblasti informačních technologií se \textit{data lineage} nepřekládá, nebudeme ho tedy překládat ani my. Pokud bychom termín však přeci jen chtěli popsat českými slovy, nejvhodnější překlad by byl zřejmě "řízení datových toků".}
Jejich cílem je analyzovat end-to-end datové toky v systému - zdroje, transformace a cíle dat a pomocí této analýzy umožnit uživateli vhled do tohoto procesu. To může být velmi komplexní úkol, informační systém se typicky skládá z řady navzájem propojených technologií, a nástroj pro analýzu Data lineage si musí umět poradit nejen s každým z nich separátně, ale také s případnými transformacemi na hranicích těchto systémů.

% Manta Flow
Jedním z úspěšných nástrojů pro \textit{data lineage} je \textit{Manta Flow}\footnote{\url{https://getmanta.com/}}. Nástroj analyzuje zdrojové kódy vybraných \textit{RDBMS} databází, Big Data nástrojů a \textit{ETL} nástrojů.
Zdrojové kódy analyzovaných systémů jsou pravidelně parsovány dle syntaktických a sémantických pravidel podporovaných nástrojů a následně jsou analyzovány přímé a nepřímé\footnote{Představme si relační databázi s tabulkami \textit{A}, \textit{B} a \textit{C}. Představme si, že data z tabulky \textit{A} jsou \textit{ETL transformací} přenesena do tabulku \textit{B}. Tato \textit{ETL transformace} filtruje data z tabulky \textit{A} dle dat z tabulky \textit{C}. Potom z tabulky \textit{A} do tabulky \textit{B} vede \textit{přímý datový tok} a z tabulky \textit{C} do tabulky \textit{B} vede \textit{nepřímý datový tok}.} datové toky a transformace dat v informačním systému.
Získané informace jsou ukládány do metadatového úložiště, jímž je v současné době grafová databáze \textit{Titan}\footnote{\url{http://titan.thinkaurelius.com/}}. Webové rozhraní aplikace potom umožňuje uživateli vizualizovat datové toky dle zadaných parametrů (zdroj a cíl datového toku, úroveň abstrakce atd.). Dynamicky tak vznikají komplexní dotazy do metadatové databáze, pomocí kterých jsou procházeny grafy datových toků a vraceny výsledky.

\section{Definice problému}
% Neexistence standardů GDB
Přestože má použití grafové databáze jako metadatového úložiště pro Data lineage nástroje silné opodstatnění\footnote{Grafová databáze umožňuje výrazně rychlejší hledání datových toků v informačních systémech, než by umožňovali jiné architektury. Způsob procházení grafů je popsán v kapitole \ref{sec:gdb-dotazy}.}, přináší s sebou krom nesporných výhod také řadu problémů. Jejich společným jmenovatelem je fakt, že v oblasti grafových databází, která je relativně nová a stále prochází dynamickým rozvojem, nejsou zatím jasně definovány obecně podporované standardy. Neexistuje například univerzální, stabilní a obecně podporovaný dotazovací jazyk pro grafové databáze (například v oblasti relačních databází tuto úlohu plní SQL). To vede mimo jiné k tomu, že nejsou v tuto chvíli definovány doporučené postupy softwarového inženýrství pro tvorbu abstraktních rozhraní pracujících s grafovými databázemi. Není tak překvapaním, že je při používání grafových databází v aplikacích často míchána perzistentní a byznys logika aplikace, což je typickou ukázkou špatného návrhu\cite{Taylor09}. Pro produkt \textit{Manta Flow} je tento problém velice aktuální - používaná databáze \textit{Titan} již není dále vyvýjena, brzy skončí její podpora \cite{Titan04} a je pravděpodobné, že dojde k její výměně za jinou technologii. Cílem této práce je navrhnout abstraktní architekturu pro práci s grafovou databází, která bude vyhovovat potřebám nástroje \textit{Manta Flow} a bude v co největší míře oddělovat perzistentní logiku od zbytku aplikace. Zavedení této vrstvy aplikace bude pravděpodobně znamenat zásah do celé architektury aplikace. Součástí práce tedy musí být nový návrh architektury aplikace reflektující změnu v přístupu ke grafové databází.

\section{Struktura diplomové práce}
Práce je rozdělena na sedm kapitol: \textit{Úvod}, dvě kapitoly věnované rešerši (\textit{Grafové databáze} a \textit{Softwarové abstrakce}), tři kapitoly věnované řešení definovaného problému (\textit{Analýza}, \textit{Návrh architektury}, \textit{Implementace prototypu}) a \textit{Závěr}.

% Teorietická část
Cílem rešerše je popsat obecné principy grafových databází, jejich vnitřní organizaci a možnosti dotazování dat. Dále jsou popsány možnosti abstrakce ve světě softwarového inženýrství - ať už na úrovní procesů a programových rozhraní (\textit{API}), nebo na úrovni softwarových architektur. Obě kapitoly tvořící rešerši představují nutný teoretický základ pro řešení definovaného problému.

%Experimentální část
Praktická část práce obsahuje hlubší analýzu potřeb projektu \textit{Manta Flow} pro manipulaci s metadatovým úložištěm reprezentovaným grafovou databází. Na základě rešerše je navržena vícevrstvá architektura, vytvořena prototypová implementace řešení a ta zvalidována a otestována nad reálnými daty.
